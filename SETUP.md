# Literature App - Setup Guide

## Prerequisites

- Flutter SDK (^3.9.2)
- Firebase CLI
- FlutterFire CLI
- Xcode (for iOS development)
- Android Studio (for Android development)

## Firebase Setup

### 1. Install FlutterFire CLI

```bash
dart pub global activate flutterfire_cli
```

### 2. Configure Firebase

Run the following command in the project root:

```bash
flutterfire configure
```

This will:
- Create a Firebase project (or select an existing one)
- Register your iOS and Android apps
- Download Firebase configuration files
- Generate `lib/firebase_options.dart`

### 3. Set up Firebase Services

In the Firebase Console (https://console.firebase.google.com/):

#### Authentication
1. Go to Authentication > Sign-in method
2. Enable "Email/Password" provider

#### Firestore Database
1. Go to Firestore Database
2. Create database in production mode (or test mode for development)
3. Set up security rules (see CLAUDE.md for collection structure)

#### Storage
1. Go to Storage
2. Get started with default settings
3. Set up security rules for:
   - `/profile_images/{userId}/`
   - `/stories/{userId}/{storyId}.jpg|mp4`

#### Cloud Functions (Optional for MVP)
1. Set up Firebase Cloud Functions
2. Implement required functions (see CLAUDE.md)

### 4. Update main.dart

Once `firebase_options.dart` is generated, uncomment the Firebase initialization code in `lib/main.dart`:

```dart
import 'package:firebase_core/firebase_core.dart';
import 'firebase_options.dart';

// In main():
await Firebase.initializeApp(
  options: DefaultFirebaseOptions.currentPlatform,
);
```

## Running the App

### iOS

```bash
flutter run -d ios
```

### Android

```bash
flutter run -d android
```

## Project Structure

```
lib/
├── main.dart                 # App entry point
├── firebase_options.dart     # Generated by flutterfire configure
├── core/
│   ├── constants/           # Colors, sizes, text styles
│   ├── theme/              # App theme configuration
│   ├── utils/              # Utility functions
│   └── widgets/            # Shared widgets
├── features/
│   ├── auth/               # Authentication (login, signup)
│   ├── posts/              # Post creation, viewing
│   ├── stories/            # Stories feature
│   ├── messaging/          # Direct messaging
│   ├── profile/            # User profiles
│   ├── search/             # Search functionality
│   ├── notifications/      # In-app notifications
│   └── feed/               # Main feed
├── models/                 # Data models
└── repositories/           # Data access layer
```

## Development Workflow

See CLAUDE.md for:
- BLoC state management patterns
- Firebase architecture
- Design system rules (STRICT monochrome)
- Feature implementation priorities (MVP → Phase 2 → Phase 3)

## Next Steps

1. Run `flutterfire configure`
2. Set up Firebase services in Firebase Console
3. Implement Phase 1 features (see CLAUDE.md):
   - User Authentication
   - Content Creation & Management
   - Stories Feature
   - Vertical Scrolling Feed
